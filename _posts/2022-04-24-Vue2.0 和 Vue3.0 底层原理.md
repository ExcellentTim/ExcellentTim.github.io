---
layout: post
title: vue2.0 和 vue3.0 底层原理
renderNumberedHeading: true
grammar_cjkRuby: true
date:   2022-04-24 12:00:00
---


``` javascript
	const data = {}
    // vue2.0
    Object.defineProperty(data, 'count', {
      get(value) {
        console.log('get', value)
        return value
      },
      set(value) {
        console.log('set', value)
        return value
      }
    })
    // data.count
    // data.count = 10

    // vue3.0
    const v3 = {}
    const proxyV3 = new Proxy(v3, {
      get(target, prop) {
        console.log('get', target, prop)
        return Reflect.get(target, prop)
      },
      set(target, prop, val) {
        console.log('set', target, prop, val)
        return Reflect.set(target, prop, val)
      },
      deleteProperty(target, prop) {
        console.log('deleteProperty', target, prop)
        Reflect.deleteProperty(target, prop)
      }
    })
    // proxyV3.msg
    // proxyV3.msg = '信息'
    // delete proxyV3.msg
    // console.log(v3)`enter code here`
```

